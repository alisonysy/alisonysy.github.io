<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>JavaScript里的数据类型转换 | A.Amaze</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我们知道JS里有7种数据类型，那么7种类型之间怎样进行转换呢？哪些API可以使用？ 其他类型转换为string字符串.toString()属性Number、boolean可以直接使用.toString()转换为字符串：123(3).toString() // &amp;apos;3&amp;apos;//第一个()里为要转换的numbertrue.toString() //&amp;apos;true&amp;apos; Nul">
<meta name="keywords" content="JavaScript">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript里的数据类型转换">
<meta property="og:url" content="http://yoursite.com/2019/01/21/JavaScript里的数据类型转换/index.html">
<meta property="og:site_name" content="A.Amaze">
<meta property="og:description" content="我们知道JS里有7种数据类型，那么7种类型之间怎样进行转换呢？哪些API可以使用？ 其他类型转换为string字符串.toString()属性Number、boolean可以直接使用.toString()转换为字符串：123(3).toString() // &amp;apos;3&amp;apos;//第一个()里为要转换的numbertrue.toString() //&amp;apos;true&amp;apos; Nul">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://i.loli.net/2019/01/21/5c4551d7cb2ef.jpg">
<meta property="og:updated_time" content="2019-01-21T05:04:35.584Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript里的数据类型转换">
<meta name="twitter:description" content="我们知道JS里有7种数据类型，那么7种类型之间怎样进行转换呢？哪些API可以使用？ 其他类型转换为string字符串.toString()属性Number、boolean可以直接使用.toString()转换为字符串：123(3).toString() // &amp;apos;3&amp;apos;//第一个()里为要转换的numbertrue.toString() //&amp;apos;true&amp;apos; Nul">
<meta name="twitter:image" content="https://i.loli.net/2019/01/21/5c4551d7cb2ef.jpg">
  
    <link rel="alternative" href="/atom.xml" title="A.Amaze" type="application/atom+xml">
  
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  
</head></html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="overlay"></div>
  <div id="header-outer" class="outer">
    <div id="profile_img">
      <img id="circle_img" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1547108992542&amp;di=f545a66526903dbb60956e57d5091d2a&amp;imgtype=0&amp;src=http%3A%2F%2Fdimg03.c-ctrip.com%2Fimages%2Ffd%2Ftg%2Fg3%2FM09%2F90%2F9E%2FCggYGVbQI8qAbmnaAAPzXVvNR6w344.jpg">
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">A.Amaze</a>
      </h1>
      
    </div>
    <div id="header-menu">
      <nav id="main-nav">
        <ul>
        
          <li><a href="/"><i class="fa fa-home icon-setting"></i></a></li>
        
          <li><a href="/archives"><i class="fa fa-archive icon-setting"></i></a></li>
        
          <li><a href="/about"><i class="fa fa-user icon-setting"></i></a></li>
        
        
          <li><a href="/atom.xml"><i class="fa fa-rss  icon-setting"></i></a></li>
        
        </ul>
      </nav>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-JavaScript里的数据类型转换" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/21/JavaScript里的数据类型转换/" class="article-date">
  <time datetime="2019-01-21T01:32:35.000Z" itemprop="datePublished">2019-01-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      JavaScript里的数据类型转换
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我们知道JS里有7种数据类型，那么7种类型之间怎样进行转换呢？哪些API可以使用？</p>
<h2 id="其他类型转换为string字符串"><a href="#其他类型转换为string字符串" class="headerlink" title="其他类型转换为string字符串"></a>其他类型转换为string字符串</h2><h3 id="toString-属性"><a href="#toString-属性" class="headerlink" title=".toString()属性"></a>.toString()属性</h3><p>Number、boolean可以直接使用.toString()转换为字符串：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(3).toString() // &apos;3&apos;</span><br><span class="line">//第一个()里为要转换的number</span><br><span class="line">true.toString() //&apos;true&apos;</span><br></pre></td></tr></table></figure></p>
<p>Null和undefined用.toString()时会有报错，而object的.toString()只会得到<kbd>[object Object]<kbd>的结果。</kbd></kbd></p>
<h3 id="“”-‘’空字符串-要转换的类型"><a href="#“”-‘’空字符串-要转换的类型" class="headerlink" title="“”/‘’空字符串+要转换的类型"></a>“”/‘’空字符串+要转换的类型</h3><p>一种更为方便也更万能的方法是用空字符串’’加上要转换的类型：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1 + &apos;&apos; // &quot;1&quot;</span><br><span class="line">true + &apos;&apos; // &quot;true&quot;</span><br><span class="line"></span><br><span class="line">var a = &#123;&#125;; </span><br><span class="line">a + &apos;&apos;;</span><br><span class="line">//&quot;[object Object]&quot;</span><br><span class="line"></span><br><span class="line">null + &apos;&apos;// &quot;null&quot;</span><br><span class="line">undefined + &apos;&apos;// &quot;undefined&quot;</span><br></pre></td></tr></table></figure></p>
<h2 id="其他类型转换为boolean布尔值"><a href="#其他类型转换为boolean布尔值" class="headerlink" title="其他类型转换为boolean布尔值"></a>其他类型转换为boolean布尔值</h2><h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean()"></a>Boolean()</h3><p>在Boolean()里加上要转换的类型，可以返回出对应的布尔值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Boolean(2) // true</span><br><span class="line">Boolean(&apos;string&apos;) // true</span><br><span class="line">Boolean(NaN) // false</span><br><span class="line">Boolean(&#123;name:&apos;may&apos;&#125;) // true</span><br></pre></td></tr></table></figure></p>
<h3 id="要转换的类型"><a href="#要转换的类型" class="headerlink" title="!!+要转换的类型"></a>!!+要转换的类型</h3><p>由于!在JS里表示“非”，!!得到的即数据类型用Boolean()转换时的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">!! 2 // true</span><br><span class="line">!! null // false</span><br><span class="line">!! [] // true</span><br></pre></td></tr></table></figure></p>
<p>我们可以观察到有些值转换为布尔值的时候，返回的是true，有些返回的是false，怎么区分呢？事实上，除了以下6个值返回的是false，其他返回的都是true：</p>
<blockquote>
<p>0<br>NaN<br>null<br>undefined<br>false<br>‘’或””</p>
</blockquote>
<h2 id="其他类型转换为number数字"><a href="#其他类型转换为number数字" class="headerlink" title="其他类型转换为number数字"></a>其他类型转换为number数字</h2><h3 id="Number-方法"><a href="#Number-方法" class="headerlink" title="Number()方法"></a>Number()方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Number(&apos;234&apos;) // 234</span><br></pre></td></tr></table></figure>
<h3 id="parseInt-和parseFloat-方法"><a href="#parseInt-和parseFloat-方法" class="headerlink" title="parseInt()和parseFloat()方法"></a>parseInt()和parseFloat()方法</h3><p>parseInt()和parseFloat()都能使一个字符串转换为数字。字符串也可以是以二进制(0b开头)、八进制(0o开头)、十六进制(0x开头)的。其中，使用parseInt()时默认把字符串转为十进制的数字，但可通过增加第二个参数来标明目标的进制：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">parseInt(&apos;234&apos;) // 234</span><br><span class="line">parseFloat(&apos;1.23&apos;) // 1.23</span><br><span class="line">parseInt(&apos;234&apos;,8) // 156，这里的第二个参数告诉浏览器要把&apos;234&apos;转换为八进制的数字</span><br><span class="line">parseInt(&apos;0x3401&apos;) // 13313，这里以&apos;0x&apos;开头表明字符串是以十六进制来转译的</span><br></pre></td></tr></table></figure></p>
<h3 id="字符串-0"><a href="#字符串-0" class="headerlink" title="字符串 - 0"></a>字符串 - 0</h3><p>另一个简单直接的方法就是用字符串减去一个0：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&apos;0x3401&apos; - 0 // 13313</span><br><span class="line">true - 0 // 1</span><br><span class="line"></span><br><span class="line">var phoneNum = &apos;010234567&apos;; </span><br><span class="line">phoneNum - 0;</span><br><span class="line">// 10234567，注意浏览器会自动忽略数字前的0</span><br></pre></td></tr></table></figure></p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="+/- 字符串"></a>+/- 字符串</h3><p>通过加号+或减号-再跟一个字符串的方式也可实现转换为数值的目标：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ &apos;0x3401&apos; // 13313</span><br><span class="line">- &apos;-1&apos; // 1</span><br></pre></td></tr></table></figure></p>
<h2 id="其他类型转换为object对象"><a href="#其他类型转换为object对象" class="headerlink" title="其他类型转换为object对象"></a>其他类型转换为object对象</h2><p>7种数据类型中，原始类型的数据是直接用stack堆内存储存的，object是复杂类型，用stack堆内存储存object的值的地址，而heap堆内存储存object里的key-value。Object的地址可更改，object与值关系称为object的引用。<br><strong>数据的储存：</strong><br><img src="https://i.loli.net/2019/01/21/5c4551d7cb2ef.jpg" alt="JS数据的储存：c和d指向的是两个不同的对象"></p>
<p>由于对象的属性可以动态创建，若创建对象后，要往对象添加属性，使用栈内存直接储存对象时，会占用大量内存，使速度变慢，所以一般使用栈内存储存对象地址，而堆内存储存对象里的键值对。若一开始创建了2个对象，假设是o1和o2，之后把o1的值赋予o2时，并没有创建新的对象，而是把o1对象储存的地址复制到了o2，即o2对象现在的地址与o1一样指向同一个键值对：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name:&apos;xxx&apos;&#125;</span><br><span class="line">var o2 = &#123;name:&apos;yyy&apos;&#125;</span><br><span class="line"></span><br><span class="line">o2 = o1;</span><br><span class="line">o2.name;</span><br><span class="line">// &quot;xxx&quot;，因为现在o2的地址指向了&#123;name:&apos;xxx&apos;&#125;</span><br></pre></td></tr></table></figure></p>
<p>此时，若通过属性object.property的方法修改o2的name，实际是修改原来的存在堆内存里的键值对：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name:&apos;xxx&apos;&#125;</span><br><span class="line">var o2 = &#123;name:&apos;yyy&apos;&#125;</span><br><span class="line"></span><br><span class="line">o2 = o1;</span><br><span class="line">o2.name = &apos;zzz&apos;;</span><br><span class="line">o1.name;</span><br><span class="line">// &quot;zzz&quot;，因为修改的是原来&#123;name:&apos;xxx&apos;&#125;的数据，由于o1和o2指向同一个地址，所以o1的name属性的值也会随之改变</span><br></pre></td></tr></table></figure></p>
<p>但若是把另一个对象再次赋值给o2，那么o2的地址就会改变，现在o2的地址与o1的地址指向不同的键值对：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name:&apos;xxx&apos;&#125;</span><br><span class="line">var o2 = &#123;name:&apos;yyy&apos;&#125;</span><br><span class="line"></span><br><span class="line">o2 = o1;</span><br><span class="line">o2 = &#123;name:&apos;zzz&apos;&#125;;</span><br><span class="line">o1.name;</span><br><span class="line">// &quot;xxx&quot;，因为把&#123;name:&apos;zzz&apos;&#125;赋值给o2时，实际上是在堆内存创建了另一个&#123;name:&apos;zzz&apos;&#125;的键值对，而o2的地址从原来的&#123;name:&apos;xxx&apos;&#125;指向了新的数据，因此原来的&#123;name:&apos;xxx&apos;&#125;没有被修改</span><br></pre></td></tr></table></figure></p>
<p>同理，把另一个值赋予o2时，只是会更改原来o2在stack栈内存内储存的地址：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name:&apos;xxx&apos;&#125;</span><br><span class="line">var o2 = &#123;name:&apos;yyy&apos;&#125;</span><br><span class="line"></span><br><span class="line">o2 = o1;</span><br><span class="line">o2.name; // &quot;xxx&quot;</span><br><span class="line"></span><br><span class="line">o2 = null;</span><br><span class="line">o2.name; // 此时会报错，因为这是o2的值是null，并没有name这个属性</span><br></pre></td></tr></table></figure></p>
<p>还有一个要注意的点：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var o1 = &#123;name:&apos;xxx&apos;&#125;</span><br><span class="line">var o2 = &#123;name:&apos;yyy&apos;&#125;</span><br><span class="line"></span><br><span class="line">o2 = o1;</span><br><span class="line">o1.p = o1 = &#123;name:&apos;zzz&apos;&#125;;</span><br><span class="line"></span><br><span class="line">o1.p; // undefined，因为浏览器在读o1.p = o1 = &#123;name:&apos;zzz&apos;&#125;时，是从左往右先定下o1的地址，此时o1的地址还是指向&#123;name:&apos;xxx&apos;&#125;，所以新建的p属性是在原来o1的&#123;name:&apos;xxx&apos;&#125;上添加，现在即为</span><br><span class="line">&#123;name:&apos;xxx&apos;;p:&#123;name:&apos;zzz&apos;&#125;&#125;</span><br><span class="line"></span><br><span class="line">o2.p; // &#123;name:&apos;zzz&apos;&#125;，在浏览器定下o1的地址后，把&#123;name:&apos;zzz&apos;&#125;赋值给o1，此时o1有一个新的地址，指向&#123;name:&apos;zzz&apos;&#125;；但o2此时指向的仍是旧的地址，旧的地址添加了p属性后，p指向的是o1的新地址，即&#123;name:&apos;zzz&apos;&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/21/JavaScript里的数据类型转换/" data-id="cjr6hc3io00044wulcgxr1pmi" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/21/原型与原型链/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          原型与原型链
        
      </div>
    </a>
  
  
    <a href="/2019/01/20/JS的数据类型/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">JS的数据类型</div>
    </a>
  
</nav>

  
</article>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Alison<br>
      <a href="https://github.com/ken8203/hexo-theme-alberta" target="_blank">Alberta</a> by <a href="http://jaychung.tw" target="_blank">jaychung</a>. Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Thank <a href="http://subtlepatterns.com/" target="_blank">Subtlepatterns</a>
    </div>
  </div>
</footer>
    </div>
    
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="//imsky.github.io/holder/holder.js"></script>

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>